var teamVec:Array  = [1, 2, 3, 1, 2, 3, 1, 0, 1, 1, 1, 1, 2, 0, 1, 2, 0];var freshVec:Array = [1, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0];var newCells:Array = [];var teamID:int = 1;var i:int;trace(teamVec.join(""));trace(freshVec.join("").replace(/0/g, " ").replace(/1/g, "^"));trace("11112310111120120...");var firstIndex:int = -2;var nextIndex:int = teamVec.indexOf(teamID, 0);var nextEmpty:int = teamVec.indexOf(0, 0);while (nextEmpty != nextIndex) { // these can only be equal if they're both -1	if (nextIndex == -1 || (nextEmpty != -1 && nextEmpty < nextIndex)) {		firstIndex = -2;		nextEmpty = teamVec.indexOf(0, nextEmpty + 1);	} else {		if (firstIndex != -2 && firstIndex != nextIndex - 1) {			for (i = firstIndex + 1; i < nextIndex; i++) {				teamVec[i] = teamID;				newCells.push(i);			}		}		firstIndex = nextIndex;		if (freshVec[nextIndex] != 1) {			nextIndex = freshVec.indexOf(1, nextIndex + 1);		} else {			nextIndex = teamVec.indexOf(teamID, nextIndex + 1);		}	}}trace(teamVec.join(""));var newStr:String = "";for (i = 0; i < teamVec.length; i++) {	newStr = newStr + (newCells.indexOf(i) != -1 ? "|" : " ");}trace(newStr);trace(newCells);